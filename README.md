# Алгоритм Ароры

Евклидова задача коммивояжёра  
Пусть все вершины графа помещены в евклидово пространство, а веса на рёб-
рах получены как евклидовы расстояния между вершинами. Имплементируйте
какой-нибудь алгоритм приближённого решения с точностью выше 1.25. (Соглас-
но теореме Ароры, существует полиномиальный алгоритм для любой точности
1 + ε).

#### План:
- Постановка задачи
- Обозначения и замечания и структурная теорема
- описание алгоритма
- написать алгоритм (подробнее далее)

(первые 3 части почти сделаны, см. pdf)  

TODO: написать тесты и жадный алгоритм для сравнения  
TODO: добавить визуализацию  

Источники:  
- https://www.iitg.ac.in/rinkulu/talks/euctsp-arora.pdf
- https://www-sop.inria.fr/members/Frederic.Havet/Cours/p753-arora.pdf


# Генетический алгоритм:
Идея: мерджим хорошие и м.б. не очень циклы, чтобы найти хорошие \\

#### Алгоритм идейно:
1. Генерируем начальную популяцию(набор путей):
- Смотрим на какое-то число ближайших соседей и если можем - идем к ближайшему не использованному
- если все использовали берем случайный не использованный   
- таким образом получили начальную популяцию

2. Повторять пока не надоест:
- берем случайный батч (wr_group)
- делаем несколько раз(generation раз): в нем из 2 родителей путем скрещивания получаем ребенка, и его ставим на место худщего в wr_group, при этом перещитываем ответ(лудший путь), и с некоторой вероятностью мутируем ребенка

3. Оптимизации:
- перебрать сетку параметро: размер wr_group, число итераций для каждой группы, вероятность мутации при скрещивании
- TODO: c определнной вероятностью вместо лучших родителей брать случайных
- TODO: делать перезапуски - на каждой итерации перебора по сетке с малой вероятностью перегенерить начальную популяцию
- TODO: Если много итераций без обновления веса, закончить раньше
- TODO: На одной итерации случайно менять размер группы


#### Что есть в коде: 
1. GraphGenerator - генерирует случайный граф заданного размера на плоскости и записывает его в нужный файл (TODO: м.б. стоит записывать в поток вывода произвольный)
2. GeneticManager - контролирует работу генетического алгоритма по заданным параметрам - в конструктор передаюся общие неизменные параметры (размер популяции, шанс(вероятность в процентах) взятия ближайшего при построении популяции, число ближайших в построении)  
Может делать несколько (заданное число) итераций
3. GeomGraphData - контролирует работу графа (дает рассмотяний, ближ соседей и прочее)
4. Solver - пользуется GeneticManager и реализует общие оптимизации и эвристики при работае с ним  
Также абстрагирует пользователя от подбора параметров  


Источники:  
- https://vestnik.amursu.ru/wp-content/uploads/2017/12/N57_4.pdf
- http://www.100byte.ru/100btwrks/tsp/tsp.html
- https://www.mathnet.ru/links/d9718ac034c05d0128e4a6f880435c01/ubs956.pdf
- https://www.ncbi.nlm.nih.gov/pmc/articles/PMC5676484/
